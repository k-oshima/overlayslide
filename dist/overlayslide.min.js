'use strict';var _extends=Object.assign||function(a){for(var c,b=1;b<arguments.length;b++)for(var d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a},_createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var OverlaySlide=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,a),this.settings=_extends({},c),this._init(b)}return _createClass(a,[{key:'_init',value:function _init(b){this.wrap=jQuery(b),this.firstSlide=this.wrap.children().first(),this.slides=jQuery(this.wrap.children()),this.lastIdx=this.slides.length-1,this.wrap.addClass('olslide_wrap'),this.slides.addClass('olslide_item'),this._startOver()}},{key:'_addListeners',value:function _addListeners(){var f=this,b=this.firstSlide,c=this.currentIdx,d=this.lastIdx;jQuery(this.slides[c+1]).on('click',function(){f._setNext()})}},{key:'_startOver',value:function _startOver(){var b=this.slides;return this.prevIdx=b.length-1,this.currentIdx=0,this.nextIdx=this.currentIdx+1,this._addListeners(),this._render()}},{key:'_setNext',value:function _setNext(){var d=this;this._destroy();var b=this.currentIdx,c=this.lastIdx;return b>=c?this._startOver():void(this.currentIdx++,this.prevIdx=this.currentIdx-1,this.nextIdx=this.currentIdx===c?0:this.currentIdx+1,this._debug(),jQuery(this.slides[this.nextIdx]).on('click',function(){d._setNext()}),this._render())}},{key:'_setPrev',value:function _setPrev(){var b=this.currentIdx,c=this.lastIdx;return 1===b?(this._startOver(),this._debug()):void(this.currentIdx=0===this.currentIdx?c:this.currentIdx-1,this.prevIdx=this.currentIdx-1,this.nextIdx=this.currentIdx===c?0:this.currentIdx+1)}},{key:'_render',value:function _render(){var b=this.prevIdx,c=this.currentIdx,d=this.nextIdx,f=this.slides;f.removeClass('olslide_item--prev olslide_item--current olslide_item--next'),jQuery(f[b]).addClass('olslide_item--prev'),jQuery(f[c]).addClass('olslide_item--current'),jQuery(f[d]).addClass('olslide_item--next')}},{key:'_destroy',value:function _destroy(){console.log('destroy'),jQuery(this.slides[this.nextIdx]).off('click'),this._debug()}},{key:'_debug',value:function _debug(){}}]),a}();(function(a){a.fn.olslide=function(b){var c=new OverlaySlide(this,b);return c}})(jQuery);